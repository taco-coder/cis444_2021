<!DOCTYPE html>
<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <style>
            body{
                font-family: 'Courier New', Courier, monospace;
            }
            #book-details, #book-cover, #testimonies{
                display: inline-block;
                vertical-align: middle;
            }
            #testimonies{
                width: 300px;
                height: 300px;
            }
            .quote{
                background: lightgray;
                border: 1px solid black;        
                border-radius: 20px;
                padding: 10px;
            }
            #book-details{
                margin-left: 100px;
                padding-right: 250px;
                width: 400px;
                wordwrap: normal;
            }
            #book-cover{
                margin-left: 150px;
            }
            #buy_button, #price{
                display: inline;
            }
            #buy_button{
                margin-left: 40px;
                border: none;
                outline: none;
                padding: 10px 16px;
                border-radius:5px;
                background-color: coral;
                color: white;
                cursor: pointer;
                font-size: 18px;
                transition-duration: 0.3s;                
            }
            #buy_button:hover{
                background-color: white;
                color: coral;
                border: 1px solid coral; 
            }
            .btn {
                border: none;
                outline: none;
                padding: 10px 16px;
                border-radius:5px;
                background-color: coral;
                color: white;
                cursor: pointer;
                font-size: 18px;
                transition-duration: 0.3s;  
            }  
            .btn:hover {
                background-color: white;
                color: coral;
                border-radius: 10px;
                border: 1px solid coral;        
            }             
            #cart_btn{
                margin-left: 92%;
                margin-top: -40px;
            }
            #description, #review-section{
                margin-left: 150px;
                margin-right: 150px;
            }
        </style>
    </head>
    <body>	
        <div id="myDIV">
        <button class="btn">Go Back &#8617</button>
        </div>
        <form id = "cart_btn" action="/cart" method="get">
            <input type="submit" class="btn" value="Go to Cart &#128722">
        </form>        
        <div id="book-cover">
            <img width="450px" height="450px" style="border-radius: 5px;" src="https://red-lepanka-images.s3.amazonaws.com/1629591299654.png"/>
        </div>
        <div id="book-details">
            <h1 style="margin-bottom: 200px; font-size: 50px;">{{bookname}}</h1>
            <h3 id= "price">Price: {{price}}</h3>
            <button type="button" id="buy_button">Add to Cart &#128722</button>
        </div>
        <div id="testimonies">
            <p class="quote"><q>The girlboss story of the decade.</q> - Reshma Saujani, Founder of Girls Who Code</p>
            <br>
            <p class="quote"><q>James Bond just met his female match.</q> - The New York Times</p>
        </div>
        <div id="description">
            <h2>Description</h2>
            <hr>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam varius ipsum tristique, dignissim quam ut, tempus ex. 
            Morbi pulvinar purus ut odio rutrum aliquam. Aliquam non volutpat odio, sit amet pharetra lorem. 
            Ut vehicula elementum nulla, sit amet sodales nisl finibus varius. Donec eu sollicitudin nunc, non auctor nibh.
            Ut ultricies finibus elit ut scelerisque. Nam nec tincidunt massa, quis molestie massa. Interdum et malesuada fames ac ante ipsum primis in faucibus.
             Nunc ligula enim, dictum eget nunc eu, egestas tempor lacus. In et hendrerit velit. Praesent ac egestas libero.
             Maecenas convallis felis quis ex posuere malesuada. Mauris id nisi vel nunc maximus efficitur in vel sem. </p>
        </div>
        <div id="review-section">
                <h2>Reviews</h2>
                <h4 id="avgRate"></h4>
            <hr>
            <div id="user-review"></div>
    </body>
    <script>
        console.log({{reviews[0]}})
        var $totalRate;
        for(let i =0; i < reviews.length; i++){
            var $review = $("<p>Rated: " + reviews[i][2] +"/5: " + reviews[i][1] + "</p>");
            $totalRate += reviews[i][2];
            $('#user-review').append($review);
        }
        $totalRate = $totalRate / reviews.length;
        $('#avgRate').html("Rating: " + $totalRate + "/5") 
    </script>
</html>
